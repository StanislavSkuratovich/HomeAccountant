@page "/users/Create"
@inject NavigationManager _navigator;
@inject IUnitOfWork _unit;

<div class="card">
    <div class="card-body">
        <h3 class="card-title">Add new record</h3>
        <EditForm Model="_changeRecord" OnSubmit="HandleCreation">
            <div class="form-group">
                <label for="UserAme;)" class="form-label">Enter name</label>
                <InputText Id="amount" class="form-control" @bind-Value="_changeRecord.UserName" />
            </div>
            <button class="btn btn-primary" type="submit">
                <span class="oi oi-pencil"></span>
                Submit Changes
            </button>
        </EditForm>
    </div>
</div>


@code {
    @code {
        private AppUser _changeRecord = new AppUser();
        private async Task HandleCreation()
        {
            var responce = await _unit.AppUsers.AddAsync(_changeRecord);
            _navigator.NavigateTo("/users/");
        }

    }
}